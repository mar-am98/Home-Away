

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl      = env("DIRECT_URL")
}

generator client {
  provider = "prisma-client-js"
}

model property {
  id String @id @default(uuid())
  name String
  tagLine String
  description String
  category String
  price Int
  image String
  guests Int
  bedrooms Int
  beds Int
  baths Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  clerkId String
  location String
  amenities String[]
  favorites favorite[]
  reviews review[]
}

model favorite{
  id String @id @default(uuid()) 
  clerkId String
  property property @relation(fields: [propertyID],references: [id],onDelete: Cascade)
  propertyID String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model review{
  id String @id @default(uuid())
  clerkId String
  rating String
  comment String
  authorName String
  authorImageUrl String
  property property @relation(fields: [propertyID],references: [id],onDelete: Cascade)
  propertyID String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}